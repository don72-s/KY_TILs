# 트랜스폼

유니티 내의 위치, 크기, 회전 정보를 가지는 트랜스폼 컴포넌트에 대해 알아본다.

<br>

## 구성요소

트랜스폼은 position, rotation, scale 세가지 요소로 구성되어있다.

<br>

### Position

오브젝트의 위치 좌표를 의미한다. 3차원 좌표계로 표현되며 해당 값을 수정하여 위치를 바꿀 수 있다.

<hr>

`Transform.position = new Vector(0, 1, 0);`
다음과 같이 직접 수정할 수도 있고

`Transform.Translate(이동방향 벡터 * 이동속도);`
와 같이 현재 위치를 기준으로 이동시킬 수도 있다.

<hr>

이동시에는 목표 지점을 두고 움직이는 경우가 많을 것이다.
그럴 때에 사용하는 대표적인 이동 방법이 몇가지 있다.

`Vector3.Lerp( 현재 좌표, 목적지 좌표, 보간 수치);`
lerp 함수를 이용하면 목적지와의 거리에 비례하여 다른 속도를 가지는 이동을 구현할 수 있다.

시작 좌표에는 현재위치
목적지 좌표에는 목적지 위치
보간 수치에는 시작:0, 목적지:1 이라는 수치로 생각한 뒤
0~1 사이의 위치에 해당하는 값을 넣어준다.

그럼 해당 함수는 보간수치에 대응되는 위치 좌표를 반환하며
매 프래임마다 해당 좌표를 **현재 위치**로 적용시키는 방식으로 보간 이동을 구현할 수 있다.

<br>

보간 이동이 아닌 등속 이동은 구현하기가 훨씬 수월하다.

`Vector3.MoveTowards( 현재 좌표,목적지 좌표, 속도 );`

해당 함수는 시작 좌표에서 목적지 좌표로의 방향 벡터에 속도를 곱한 좌표를 반환한다.

즉, 현재좌표를 계속해서 갱신해가며 위치를 지정한다면, 등속 운동을 간단하게 구현할 수 있다.


<br>

### Rotation

회전은 x,y,z축을 기준으로 표현된다.
단, 3가지 축으로만 회전을 표현한다면 짐벌락 현상이 발생하기 때문에 사실은 w라는 원소를 사용하여 4개의 변수로 표현한다.

하지만, 사용상의 편의를 위하여 quaternion(4원수)를 3개 축 형식으로 바꾸어 이용한다.

<hr>

각 축의 각도를 수정하기 위해서는 rotation을 바꾸어야 하는데 그 형식은 다음과 같다.

`transform.rotation = Quaternion.Euler( x축 각도, y축 각도, z축 각도);`

해당 방식으로는 각도를 지정할 수 있다.

또 translate처럼 현재 각도에서 특정 수치만큼 각도를 더해줄 수 있다.

`transform.Rotate( 회전 기준축 벡터, 속도 );`

위와 같이 코드를 작성하면 기준 축 벡터를 기준으로

입력된 각속도로 회전시킨다.


<hr>

특정 지점을 중심으로 공전하듯이 위치와 각도를 변환하는 함수도 제공된다. 해당 함수의 사용법은 다음과 같다.

`Transform.RotateAround(공전 중심 위치, 회전축이 될 벡터, 공전 속도);`

첫번째는 벡터지만 단순히 중 pos역할을 한다.
두번째는 pos에서 출발하는 회전축 벡터를 정의한다.
마지막은 각속도를 정의한다.

<hr>

특정 오브젝트의 정면(z벡터 방향)이 특정 위치를 바라보게 할 수 있는 함수도 존재한다.

`Transform.LookAt(바라볼 위치);`

간단하게 위치를 넣어주면 목적지를 바라보는 방향으로 z벡터의 방향이 바뀐다.

<br>
## 전역 좌표와 상대좌표(global , local space)

오브젝트들의 위치와 방향을 표현하는데에는 전역, 상대좌표 방식 두가지 종류가 있다.

<br>
### 전역 좌표 (global position)

절대적으로 변하지 않는 표현 방식이며, 세상 어디에 있든 동, 서, 남, 북의 방향은 바뀌지 않는것과 비슷하다.

기준점 (0, 0, 0)을 기준으로 해당 위치에서 얼마나 떨어져있는지에 대하여 모든 오브젝트들의 위치와 회전을 표현한다.

<br>


### 상대 좌표 (local position)

부모 오브젝트가 있을 경우, 부모의 transform을 기준점으로 잡고 상대적으로 자신의 위치를 표현하는 표현 방식이다.

부모 오브젝트의 위치가 (0, 0, 0)이 되며, 부모의 rotation을 기준으로 회전을 결정한다.

넓게 보면, 모든 오브젝트는 기본적으로 global의 상대좌표 표현 방식으로도 볼 수 있다.

<br>