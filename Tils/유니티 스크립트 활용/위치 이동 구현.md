# 위치 이동 구현

이번에는 사용자의 입력에 대한 상호작용을 구현해보자.

<br>

## 프레임과 deltaTime

이동 입력에 앞서서 deltaTime이라는 개념을 이해할 필요가 있다.

중요한 개념이니 살펴보고 넘어가도록 하자.

<br>

### 프레임과 FPS

화면이 출력될 때 하나의 화면 갱신을 하나의 프레임이라고 한다.

플립북이라고 생각하면 하나의 그림 페이지가 하나의 프레임이라고 볼 수 있다.

그럼 여기서 fps란, frame per second를 의미한다.

즉 1초동안 화면에 나타나는 프레임의 갯수를 의미하는 용어이다.

하지만 fps는 컴퓨터의 성능에 따라 달라지며, 유니티에서 사용하는 update함수는 프레임이 한번 갱신될 때 한번 호출된다.

따라서 성능이 천차만별인 사용자들의 컴퓨터에서의 일관성을 유지하기 위해 프레임간의 파라미터 변화를 보정해 줄 수치가 필요하다.

<br>

### Time.deltaTime

fps는 1초동안 갱신되는 프레임의 갯수라고 했다. 그렇다면 fps가 몇인지 알 수 있다면, 우리가 보정해야 할 보정 수치를 구해낼 수도 있다.

보통은 fps를 이용하기 위해 1초라는 단위를 잡기 때문에 보통의 보정치는 1초를 기준으로 1 / fps로 구하게 되며

해당 보정치를 곱해주어 일관적인 동작을 만들어낼 수 있다.

<hr>

하지만, 위의 연산은 매우 복잡하며 실시간으로 fps를 예상하는것은 불가능에 가까우며, 이를 직접 구현하는데에는 깊은 지식을 필요로 한다.

따라서 유니티에서는 해당 보정치를 Time.deltaTime이라는 속성을 제공해줌으로써 컴퓨터의 fps 보정치를 제공한다.

이를 계산값에 곱해주어서 일관적인 연산을 보장할 수 있다.

<br>

## 입력 받아오기

이제 키보드 입력이 된 것을 확인하는 과정이다.

보통은 용도에 따라서 다음과 같은 세 종류의 입력 확인 방식을 자주 사용한다.

<br>
### 키 입력 자체의 판단

특정 키가 눌렸거나 눌리지 않았을 경우를 **true/false**로 구분한다.

- Input.GetKey(키 종류) : 해당 키가 눌린 상태라면 계속 true를 반환한다.
- Input.GetKeyDown(키 종류) : 해당 키가 최초로 눌린 순간의 프레임만 true를 반환한다.
- Input.GetKeyUp(키 종류) : 해당 키가 최초로 떼어지는 순간의 프레임만 true를 반환한다.

해당 함수와 조건문을 이용하여 키의 입력을 판단할 수 있다.

<br>

### 키에 대응되는 값 반환

GetKey함수들을 이용해서 키를 확인할 수도 있지만, 자주 쓰이는 입력들은 수치를 반환하여 조금 더 구현을 용이하게 할 수 있도록 axis 함수들을 제공한다.

- Input.GetAxis(정의된 입력 종류) : 정의된 입력값에 따라서 -1 ~ 1 사이의 실수를 반환한다.

키보드로는 -1, 0, 1의 값만 반환하지만, 컨트롤러같이 미세한 조정이 가능한 입력장치일 경우에는 사이의 소수점 값을 반환하게 된다.

즉, 정밀한 입력에 대응할 수 있다.

<br>

-Input.GetAxisRaw(정의된 입력 종류) : 정의된 입력값에 따라서 -1, 0, 1을 반환한다.

단순히 모든 반환값을 세종류의 정수로만 반환한다.
즉, 키보드 입력 대응에 적합한 함수이다.



<hr>

유니티의 프로젝트 설정에 들어가서 확인하거나 수정할 수 있지만, 기본적으로 설정되어 있는 정의된 상하좌우 입력 종류는 다음과 같다.

- "Horezontal" : 수평 입력을 받으며 a, d 또는 좌/우 화살표 입력이 기본 설정으로 되어있다.
- "Vertical" : 수직 입력을 받으며 w, s입력 또는 상/하 화살표 입력이 기본 설정으로 되어있다.

<br>

## 입력 관리자 ( InputManager )

살펴본 대부분의 함수는 키보드 입력에 특화되어 있다.
이는 여러가지 환경에 대응하기 어렵다는 것을 의미한다.

이러한 단점을 극복하기 위해서 기능을 만들어둔 뒤, 입력 장치별로 제공되는 입력 방식들을 미리 정의해둔다

상술했던 horizontal, vertical이 해당 사례에 속한다.

이용하기 위해서는 GetKey 시리즈가 아닌, **GetButton** 시리즈를 이용하면 된다.

<br>