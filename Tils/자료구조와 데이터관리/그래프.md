# 그래프

데이터를 저장할때에는 데이터 자체도 중요하지만 데이터간의 관계 또한 중요한 경우가 있다.

이러한 데이터를 저장하려면 어떤 방식이 효율적일까? 이에 대해 알아보자.

<br>
## 그래프

그래프란 데이터를 노드로 표현하고, 데이터간의 관계를 간선으로 표현한 비선형 데이터 자료구조를 뜻한다.

그래프는 기본적으로 다음과 같은 특징을 가진다.

* 간선은 가중치와 방향성을 가질 수 있다.
* 두개의 노드 사이에 여러개의 간선을 가질 수 있다.
* 모든 노드가 반드시 이어져 있을 필요는 없다.
* 순환 구조를 가질 수 있다.
<br>

## 그래프의 표현 방법

그래프상의 정보를 코드상으로 표현할 때에는 대표적으로 두가지 방법을 사용한다.

### 인접 행렬 그래프


노드의 갯수가 n개인 2차원 배열을 선언한 뒤에 첫번째 인덱스를 [출발 노드], 두번째 인덱스를 [도착 노드]로 취급한 뒤에, 해당 인덱스의 위치에 [연결여부, 가중치] 등의 정보를 저장하는 방식이다.

다음과 같은 2차원 배열 요소를 해석한다고 생각해보자.
`graph[0, 2] = 7;`

해당 데이터의 뜻은
**0번 노드**에서 **2번 노드**로 이어지는 간선이 존재하며
가중치는 7이다. 라고 해석할 수 있는것이다.

이렇게 데이터를 저장하는데도 편하고 정보를 확인하는데에도 직관적이다.

다만, 극단적인 사례로 0\~1, 1\~2, 2\~3.....과같은 n개의 노드를 가지는 일자형 그래프를 표현하려 한다면 2차원 배열을 n\*n으로 메모리를 할당해야 하므로 간선이 적은 그래프일수록 공간 낭비가 커지는 표현 방식이다.

### 인접 리스트 그래프

<br>
노드의 갯수가 n개인 배열을 선언하고, 각 배열의 요소는 리스트 또는 연결리스트 타입의 데이터를 가진다.
즉, 다음과 같이 배열을 선언한다.
`List< int >[] graph = new List< int > [n];`

또한 각 배열 요소에 리스트 객체를 추가한다.
`for(int i = 0; i < graph.Length; i++) graph[i] = new List< int >();`

현재 모든 노드들은 고립된 상태로 정의되어 있는 상태이다.
여기서 0번노드가 2번노드로 향하는 방향으로 연결되어있음을 표현해보자.

`graph[0].Add(2);`
0번째 노드에 2번 노드가 추가되어있다는 것은
**0 -> 2**의 간선이 존재함을 의미한다.

만일 가중치가 있는 간선 그래프를 표현하고싶다면, int형이 아닌 새로운 데이터타입을 정의하여 이를 사용해줄 수 있다.

```cs
class Edge{
    public int destNode;
    public int weight;
}
```

<br>
인접 리스트 그래프는 단절된 노드로의 간선 데이터 정보를 아예 가지지 않기 때문에 메모리는 많이 차지하지 않는다. 즉, 노드가 매우 많을수록 메모리 효율이 좋은 그래프 표현법이다.

하지만, 특정 노드가 이어져있는지 확인하려면 x번째 요소의 리스트를 전부 순회해야 하므로 그 과정에서 조금 시간이 소모될 수 있다.

<br>
## 트리

그래프의 한 종류인 트리라는 자료구조가 있다.

트리로 정의되는 자료구조에는 다음의 특징을 반드시 가져야 한다.

* 데이터는 계층구조로 나타나며, 하위로 갈수록 깊이가 깊다고 표현한다.
* 각 하위 데이터는 하나의 상위 데이터와 반드시 하나의 경로만으로 이어져 있어야 한다.
* 데이터간의 순환 구조는 존재할 수 없다.
* 기본적으로 간선은 방향성을 가지지 않는다.
* 모든 데이터 노드는 간선으로 이어져있어야 한다.